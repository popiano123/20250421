import{s as L,a as z,b as I}from"./radiobutton.esm.69c4f86a.js";import{B as K,U as S,q as v,F as g,R as M,y as B,o as b,e as m,K as O,L as j,f as s,A as F,E as C,z as R,v as E,g as h,h as k,t as G,x as J,T as Q,n as W,d as X,ap as Y,r as x,P as Z,aw as ee,i as f,l as te,j as P,s as T,M as V,ax as ae,ay as ne,az as ie,aA as re}from"./index.9ba822ed.js";import{s as le}from"./panel.esm.7ca97350.js";import{s as U}from"./divider.esm.ec276b4c.js";import{s as oe}from"./textarea.esm.23fdbdfa.js";import"./index.esm.ac3817b7.js";import"./index.esm.caa83189.js";var de={root:"p-accordion p-component",tab:{root:function(e){var a=e.instance,i=e.index;return["p-accordion-tab",{"p-accordion-tab-active":a.isTabActive(i)}]},header:function(e){var a=e.instance,i=e.tab,o=e.index;return["p-accordion-header",{"p-highlight":a.isTabActive(o),"p-disabled":a.getTabProp(i,"disabled")}]},headerAction:"p-accordion-header-link p-accordion-header-action",headerIcon:"p-accordion-toggle-icon",headerTitle:"p-accordion-header-text",toggleableContent:"p-toggleable-content",content:"p-accordion-content"}},se=K.extend({name:"accordion",classes:de}),ue={name:"BaseAccordion",extends:B,props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:se,provide:function(){return{$parentInstance:this}}},N={name:"Accordion",extends:ue,inheritAttrs:!1,emits:["update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||S()},activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.id=this.id||S()},methods:{isAccordionTab:function(e){return e.type.name==="AccordionTab"},isTabActive:function(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp:function(e,a){return e.props?e.props[a]:void 0},getKey:function(e,a){return this.getTabProp(e,"header")||a},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,a,i){var o=this.tabs.length,n={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:i,count:o,first:i===0,last:i===o-1,active:this.isTabActive(i)}};return v(this.ptm("tab.".concat(a),{tab:n}),this.ptm("accordiontab.".concat(a),{accordiontab:n}),this.ptm("accordiontab.".concat(a),n),this.ptmo(this.getTabProp(e,"pt"),a,n))},onTabClick:function(e,a,i){this.changeActiveIndex(e,a,i),this.$emit("tab-click",{originalEvent:e,index:i})},onTabKeyDown:function(e,a,i){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,a,i);break}},onTabArrowDownKey:function(e){var a=this.findNextHeaderAction(e.target.parentElement.parentElement);a?this.changeFocusedTab(e,a):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey:function(e){var a=this.findPrevHeaderAction(e.target.parentElement.parentElement);a?this.changeFocusedTab(e,a):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var a=this.findFirstHeaderAction();this.changeFocusedTab(e,a),e.preventDefault()},onTabEndKey:function(e){var a=this.findLastHeaderAction();this.changeFocusedTab(e,a),e.preventDefault()},onTabEnterKey:function(e,a,i){this.changeActiveIndex(e,a,i),e.preventDefault()},findNextHeaderAction:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=a?e:e.nextElementSibling,o=g.findSingle(i,'[data-pc-section="header"]');return o?g.getAttribute(o,"data-p-disabled")?this.findNextHeaderAction(o.parentElement):g.findSingle(o,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=a?e:e.previousElementSibling,o=g.findSingle(i,'[data-pc-section="header"]');return o?g.getAttribute(o,"data-p-disabled")?this.findPrevHeaderAction(o.parentElement):g.findSingle(o,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex:function(e,a,i){if(!this.getTabProp(a,"disabled")){var o=this.isTabActive(i),n=o?"tab-close":"tab-open";this.multiple?o?this.d_activeIndex=this.d_activeIndex.filter(function(l){return l!==i}):this.d_activeIndex?this.d_activeIndex.push(i):this.d_activeIndex=[i]:this.d_activeIndex=this.d_activeIndex===i?null:i,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(n,{originalEvent:e,index:i})}},changeFocusedTab:function(e,a){if(a&&(g.focus(a),this.selectOnFocus)){var i=parseInt(a.parentElement.parentElement.dataset.pcIndex,10),o=this.tabs[i];this.changeActiveIndex(e,o,i)}}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(a,i){return e.isAccordionTab(i)?a.push(i):i.children&&i.children instanceof Array&&i.children.forEach(function(o){e.isAccordionTab(o)&&a.push(o)}),a},[])}},components:{ChevronDownIcon:L,ChevronRightIcon:z},directives:{ripple:M}};function w(t){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(t)}function H(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,i)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?H(Object(a),!0).forEach(function(i){ce(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function ce(t,e,a){return e=pe(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function pe(t){var e=fe(t,"string");return w(e)=="symbol"?e:String(e)}function fe(t,e){if(w(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var i=a.call(t,e||"default");if(w(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var he=["data-pc-index","data-p-active"],be=["data-p-highlight","data-p-disabled"],ve=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],me=["id","aria-labelledby"];function ye(t,e,a,i,o,n){return b(),m("div",v({class:t.cx("root")},t.ptmi("root")),[(b(!0),m(O,null,j(n.tabs,function(l,u){return b(),m("div",v({key:n.getKey(l,u),class:t.cx("tab.root",{tab:l,index:u})},n.getTabPT(l,"root",u),{"data-pc-name":"accordiontab","data-pc-index":u,"data-p-active":n.isTabActive(u)}),[s("div",v({style:n.getTabProp(l,"headerStyle"),class:[t.cx("tab.header",{tab:l,index:u}),n.getTabProp(l,"headerClass")]},A(A({},n.getTabProp(l,"headerProps")),n.getTabPT(l,"header",u)),{"data-p-highlight":n.isTabActive(u),"data-p-disabled":n.getTabProp(l,"disabled")}),[s("a",v({id:n.getTabHeaderActionId(u),class:t.cx("tab.headerAction"),tabindex:n.getTabProp(l,"disabled")?-1:t.tabindex,role:"button","aria-disabled":n.getTabProp(l,"disabled"),"aria-expanded":n.isTabActive(u),"aria-controls":n.getTabContentId(u),onClick:function(_){return n.onTabClick(_,l,u)},onKeydown:function(_){return n.onTabKeyDown(_,l,u)}},A(A({},n.getTabProp(l,"headeractionprops")),n.getTabPT(l,"headeraction",u))),[l.children&&l.children.headericon?(b(),F(C(l.children.headericon),{key:0,isTabActive:n.isTabActive(u),active:n.isTabActive(u),index:u},null,8,["isTabActive","active","index"])):n.isTabActive(u)?(b(),F(C(t.$slots.collapseicon?t.$slots.collapseicon:t.collapseIcon?"span":"ChevronDownIcon"),v({key:1,class:[t.cx("tab.headerIcon"),t.collapseIcon],"aria-hidden":"true"},n.getTabPT(l,"headericon",u)),null,16,["class"])):(b(),F(C(t.$slots.expandicon?t.$slots.expandicon:t.expandIcon?"span":"ChevronRightIcon"),v({key:2,class:[t.cx("tab.headerIcon"),t.expandIcon],"aria-hidden":"true"},n.getTabPT(l,"headericon",u)),null,16,["class"])),l.props&&l.props.header?(b(),m("span",v({key:3,class:t.cx("tab.headerTitle")},n.getTabPT(l,"headertitle",u)),R(l.props.header),17)):E("",!0),l.children&&l.children.header?(b(),F(C(l.children.header),{key:4})):E("",!0)],16,ve)],16,be),h(Q,v({name:"p-toggleable-content"},n.getTabPT(l,"transition",u)),{default:k(function(){return[!t.lazy||n.isTabActive(u)?G((b(),m("div",v({key:0,id:n.getTabContentId(u),style:n.getTabProp(l,"contentStyle"),class:[t.cx("tab.toggleableContent"),n.getTabProp(l,"contentClass")],role:"region","aria-labelledby":n.getTabHeaderActionId(u)},A(A({},n.getTabProp(l,"contentProps")),n.getTabPT(l,"toggleablecontent",u))),[s("div",v({class:t.cx("tab.content")},n.getTabPT(l,"content",u)),[(b(),F(C(l)))],16)],16,me)),[[J,t.lazy?!0:n.isTabActive(u)]]):E("",!0)]}),_:2},1040)],16,he)}),128))],16)}N.render=ye;var ge={},Te={name:"BaseAccordionTab",extends:B,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:ge,provide:function(){return{$parentInstance:this}}},$={name:"AccordionTab",extends:Te,inheritAttrs:!1};function Ae(t,e,a,i,o,n){return W(t.$slots,"default")}$.render=Ae;var Fe={root:{position:"relative"}},_e={root:function(e){var a=e.instance,i=e.props;return["p-inputswitch p-component",{"p-highlight":a.checked,"p-disabled":i.disabled,"p-invalid":i.invalid}]},input:"p-inputswitch-input",slider:"p-inputswitch-slider"},Ce=K.extend({name:"inputswitch",classes:_e,inlineStyles:Fe}),we={name:"BaseInputSwitch",extends:B,props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Ce,provide:function(){return{$parentInstance:this}}},q={name:"InputSwitch",extends:we,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var a=e==="root"?this.ptmi:this.ptm;return a(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var a=this.checked?this.falseValue:this.trueValue;this.$emit("update:modelValue",a),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue===this.trueValue}}},Ee=["data-p-highlight","data-p-disabled"],ke=["id","checked","tabindex","disabled","readonly","aria-checked","aria-labelledby","aria-label","aria-invalid"];function De(t,e,a,i,o,n){return b(),m("div",v({class:t.cx("root"),style:t.sx("root")},n.getPTOptions("root"),{"data-p-highlight":n.checked,"data-p-disabled":t.disabled}),[s("input",v({id:t.inputId,type:"checkbox",role:"switch",class:[t.cx("input"),t.inputClass],style:t.inputStyle,checked:n.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,"aria-checked":n.checked,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return n.onFocus&&n.onFocus.apply(n,arguments)}),onBlur:e[1]||(e[1]=function(){return n.onBlur&&n.onBlur.apply(n,arguments)}),onChange:e[2]||(e[2]=function(){return n.onChange&&n.onChange.apply(n,arguments)})},n.getPTOptions("input")),null,16,ke),s("span",v({class:t.cx("slider")},n.getPTOptions("slider")),null,16)],16,Ee)}q.render=De;const Ie={class:"col-12"},xe={class:"card p-fluid"},Pe={class:"field"},Ve={class:"grid"},Be={class:"col-12 md:col-4"},Se={class:"field-radiobutton mb-0"},Ue={class:"col-12 md:col-4"},He={class:"field-radiobutton mb-0"},Ke={class:"col-12 md:col-4"},Oe={class:"field-radiobutton mb-0"},je={key:0,class:"field"},Ne={class:"field"},$e={class:"field"},qe={class:"field"},Le={class:"field"},ze={class:"field"},Me={class:"field"},Re={class:"field"},et=X({__name:"SystemManager",setup(t){const e=Y(),a=x(!1),i=x(0),o=x([]),n=te();Z(()=>{setTimeout(async()=>{try{n.default("\u6B63\u5728\u52A0\u8F7D\u2026\u2026");const{data:p}=(await ee()).data,d=p.map(r=>({...r,is_active:Boolean(r.is_active),new:!1}));o.value.push(...d),n.clear()}catch{}},888)});const l=()=>{i.value=o.value.length,o.value.push({id:void 0,admin_password:"",fixed_key:"",is_active:!1,key_last_time:"0",normal_cookie:"",notice_id:"0",parse_ua:"",real_url_last_time:"0",requires_key:"none",new:!0})},u=async p=>{try{a.value=!0,n.default("\u6B63\u5728\u4FDD\u5B58\u2026\u2026");let d;if(p.new||p.id==null){const r=(await ae(p)).data,{id:y}=r.data;d=r.code,p.new=!1,y&&(p.id=y)}else d=(await ne(p,p.id)).data.code;d===1&&(n.clear(),n.success("\u4FDD\u5B58\u6210\u529F\uFF01"))}catch(d){console.error(d)}a.value=!1},D=async p=>{if(p.is_active){const r=o.value.findIndex(y=>y.id!==p.id&&y.is_active);if(r>-1){if(p.id===void 0){p.is_active=!1,n.warn("\u8BF7\u5148\u4FDD\u5B58\u8BE5\u914D\u7F6E\u540E\u518D\u542F\u7528\uFF01");return}n.default("\u6B63\u5728\u914D\u7F6E\u2026\u2026"),o.value[r].is_active=!1,p.is_active=!0;try{await ie(p.id),n.success(`\u5F53\u524D\u914D\u7F6E\u5DF2\u8BBE\u4E3A\u4E3B\u8981\u914D\u7F6E\uFF0C\u539F\u914D\u7F6E\uFF1A${r+1} \u5DF2\u5173\u95ED\u3002`)}catch{n.warn("\u542F\u7528\u5931\u8D25\uFF01")}}return}o.value.find(r=>r.is_active)===void 0&&(p.is_active=!0,n.warn("\u5F53\u524D\u914D\u7F6E\u4E3A\u4E3B\u8981\u914D\u7F6E\uFF0C\u4E0D\u80FD\u5173\u95ED\u3002"))},_=(p,d,r)=>{e.require({target:p.target,message:"\u60A8\u8981\u5220\u9664\u6B64\u914D\u7F6E\u5417\uFF1F",icon:"pi pi-info-circle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-danger p-button-sm",rejectLabel:"\u53D6\u6D88",acceptLabel:"\u786E\u5B9A",accept:async()=>{if(d.new||d.id==null)o.value.splice(r,1);else{a.value=!0;try{await re(d.id),o.value.splice(r,1),n.success("\u5220\u9664\u6210\u529F\uFF01")}catch{n.warn("\u5220\u9664\u5931\u8D25\uFF01")}a.value=!1}},reject:()=>{}})};return(p,d)=>(b(),m("div",Ie,[h(f(le),null,{default:k(()=>[h(f(N),{"active-index":i.value},{default:k(()=>[(b(!0),m(O,null,j(o.value,(r,y)=>(b(),F(f($),{header:`\u914D\u7F6E-${y+1}`},{default:k(()=>[s("div",xe,[s("div",Pe,[d[3]||(d[3]=s("label",{for:"require"},"\u89E3\u6790\u5BC6\u94A5",-1)),s("div",Ve,[s("div",Be,[s("div",Se,[h(f(I),{value:"dynamic",modelValue:r.requires_key,"onUpdate:modelValue":c=>r.requires_key=c},null,8,["modelValue","onUpdate:modelValue"]),d[0]||(d[0]=s("label",{for:"dynamic"},"\u52A8\u6001\u5BC6\u94A5",-1))])]),s("div",Ue,[s("div",He,[h(f(I),{value:"fixed",modelValue:r.requires_key,"onUpdate:modelValue":c=>r.requires_key=c},null,8,["modelValue","onUpdate:modelValue"]),d[1]||(d[1]=s("label",{for:"fixed"},"\u56FA\u5B9A\u5BC6\u94A5",-1))])]),s("div",Ke,[s("div",Oe,[h(f(I),{value:"none",modelValue:r.requires_key,"onUpdate:modelValue":c=>r.requires_key=c},null,8,["modelValue","onUpdate:modelValue"]),d[2]||(d[2]=s("label",{for:"none"},"\u65E0",-1))])])])]),r.requires_key==="fixed"?(b(),m("div",je,[d[4]||(d[4]=s("label",{for:"fixed-key"},"\u56FA\u5B9A\u5BC6\u94A5",-1)),h(f(T),{type:"text",modelValue:r.fixed_key,"onUpdate:modelValue":c=>r.fixed_key=c},null,8,["modelValue","onUpdate:modelValue"])])):E("",!0),s("div",Ne,[d[5]||(d[5]=s("label",{for:"password"},"\u7BA1\u7406\u5458\u5BC6\u7801",-1)),h(f(T),{type:"password",modelValue:r.admin_password,"onUpdate:modelValue":c=>r.admin_password=c},null,8,["modelValue","onUpdate:modelValue"])]),s("div",$e,[d[6]||(d[6]=s("label",{for:"notice"},"\u516C\u544AID",-1)),h(f(T),{type:"number",modelValue:r.notice_id,"onUpdate:modelValue":c=>r.notice_id=c},null,8,["modelValue","onUpdate:modelValue"])]),s("div",qe,[d[7]||(d[7]=s("label",{for:"dynamic-key-timeout"},[V("\u52A8\u6001\u5BC6\u94A5\u6709\u6548\u65F6\u957F"),s("code",null,"(\u79D2)")],-1)),h(f(T),{type:"number",modelValue:r.key_last_time,"onUpdate:modelValue":c=>r.key_last_time=c},null,8,["modelValue","onUpdate:modelValue"])]),s("div",Le,[d[8]||(d[8]=s("label",{for:"real-url-timeout"},[V("\u771F\u5B9E\u94FE\u63A5\u5B58\u50A8\u65F6\u95F4"),s("code",null,"(\u79D2)")],-1)),h(f(T),{type:"number",modelValue:r.real_url_last_time,"onUpdate:modelValue":c=>r.real_url_last_time=c},null,8,["modelValue","onUpdate:modelValue"])]),s("div",ze,[d[9]||(d[9]=s("label",{for:"user-agent"},[V("\u89E3\u6790 UA"),s("code",null,"(UA \u4E2D\u7684\u4EA7\u54C1\u6807\u8BC6\u5FC5\u987B\u4E3A\uFF1Anetdisk)")],-1)),h(f(T),{type:"text",modelValue:r.parse_ua,"onUpdate:modelValue":c=>r.parse_ua=c},null,8,["modelValue","onUpdate:modelValue"])]),s("div",Me,[d[10]||(d[10]=s("label",{for:"cookie"},"Cookie",-1)),h(f(oe),{placeholder:"",autoResize:!0,rows:"3",cols:"30",modelValue:r.normal_cookie,"onUpdate:modelValue":c=>r.normal_cookie=c},null,8,["modelValue","onUpdate:modelValue"])]),s("div",Re,[d[11]||(d[11]=s("h5",null,"\u542F\u7528",-1)),h(f(q),{disabled:a.value,modelValue:r.is_active,"onUpdate:modelValue":c=>r.is_active=c,onChange:c=>D(r)},null,8,["disabled","modelValue","onUpdate:modelValue","onChange"])]),h(f(U)),h(f(P),{label:"\u4FDD\u5B58",loading:a.value,onClick:c=>u(r)},null,8,["loading","onClick"]),h(f(P),{class:"mt-2",label:"\u5220\u9664",loading:a.value,onClick:c=>_(c,r,y),severity:"danger"},null,8,["loading","onClick"])])]),_:2},1032,["header"]))),256))]),_:1},8,["active-index"]),h(f(U)),h(f(P),{label:"\u6DFB\u52A0\u65B0\u914D\u7F6E",onClick:l})]),_:1})]))}});export{et as default};
