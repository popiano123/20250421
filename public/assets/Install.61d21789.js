import{B as me,U as Y,q as S,y as j,o as v,e as A,A as V,E as L,p as R,f as n,z,J,n as D,v as w,K as U,L as G,g as s,t as Z,x as $,h as g,T as ve,N as Q,d as be,r as H,$ as K,a1 as ge,i as o,M as k,j as P,s as B,a6 as F,l as he,a7 as ye}from"./index.9ba822ed.js";import{s as Ce}from"./panel.esm.7ca97350.js";import{s as Fe}from"./image.esm.388e1598.js";import{s as Se}from"./progressbar.esm.02fd659a.js";import{s as N}from"./message.esm.1d60c481.js";import{s as x}from"./divider.esm.ec276b4c.js";import{b as Ee,c as W}from"./datatable.esm.b172a70c.js";import{s as ee}from"./tag.esm.439c4aa3.js";import{b as X}from"./radiobutton.esm.69c4f86a.js";import{s as ke}from"./textarea.esm.23fdbdfa.js";import"./index.esm.ac3817b7.js";import"./index.esm.caa83189.js";var Be={root:function(l){var e=l.props;return["p-stepper p-component",{"p-stepper-horizontal":e.orientation==="horizontal","p-stepper-vertical":e.orientation==="vertical","p-readonly":e.linear}]},nav:"p-stepper-nav",stepper:{header:function(l){var e=l.instance;l.step;var i=l.index;return["p-stepper-header",{"p-highlight":e.isStepActive(i),"p-disabled":e.isItemDisabled(i)}]},action:"p-stepper-action",number:"p-stepper-number",title:"p-stepper-title",separator:"p-stepper-separator",toggleableContent:"p-stepper-toggleable-content",content:function(l){var e=l.props;return["p-stepper-content",{"p-toggleable-content":e.orientation==="vertical"}]}},panelContainer:"p-stepper-panels",panel:function(l){var e=l.instance,i=l.props,f=l.index;return["p-stepper-panel",{"p-stepper-panel-active":i.orientation==="vertical"&&e.isStepActive(f)}]}},Ae=me.extend({name:"stepper",classes:Be}),_e={name:"BaseStepper",extends:j,props:{activeStep:{type:Number,default:0},orientation:{type:String,default:"horizontal"},linear:{type:Boolean,default:!1}},style:Ae,provide:function(){return{$parentInstance:this}}},re={name:"StepperContent",hostName:"Stepper",extends:j,props:{id:null,template:null,ariaLabelledby:null,stepperpanel:null,index:null,active:null,highlighted:null,clickCallback:null,prevCallback:null,nextCallback:null,getStepPT:null}};function O(t){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},O(t)}function te(t,l){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);l&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(t,f).enumerable})),e.push.apply(e,i)}return e}function le(t){for(var l=1;l<arguments.length;l++){var e=arguments[l]!=null?arguments[l]:{};l%2?te(Object(e),!0).forEach(function(i){Pe(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):te(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function Pe(t,l,e){return l=De(l),l in t?Object.defineProperty(t,l,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[l]=e,t}function De(t){var l=we(t,"string");return O(l)=="symbol"?l:String(l)}function we(t,l){if(O(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var i=e.call(t,l||"default");if(O(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(t)}var Ve=["id","aria-labelledby","data-pc-index","data-p-active"];function xe(t,l,e,i,f,r){return v(),A("div",S({id:e.id,class:t.cx("stepper.content",{stepperpanel:e.stepperpanel,index:e.index}),role:"tabpanel","aria-labelledby":e.ariaLabelledby},le(le({},e.getStepPT(e.stepperpanel,"root",e.index)),e.getStepPT(e.stepperpanel,"content",e.index)),{"data-pc-name":"stepperpanel","data-pc-index":e.index,"data-p-active":e.active}),[e.template?(v(),V(L(e.template),{key:0,index:e.index,active:e.active,highlighted:e.highlighted,clickCallback:function(p){return t.onItemClick(p,e.index)},prevCallback:function(p){return e.prevCallback(p,e.index)},nextCallback:function(p){return e.nextCallback(p,e.index)}},null,8,["index","active","highlighted","clickCallback","prevCallback","nextCallback"])):(v(),V(L(e.stepperpanel),{key:1}))],16,Ve)}re.render=xe;var ne={name:"StepperHeader",hostName:"Stepper",extends:j,props:{id:null,template:null,stepperpanel:null,index:null,disabled:null,active:null,highlighted:null,ariaControls:null,clickCallback:null,getStepPT:null,getStepProp:null}},Te=["id","tabindex","aria-controls"];function Oe(t,l,e,i,f,r){return e.template?(v(),V(L(e.template),{key:0,index:e.index,active:e.active,highlighted:e.highlighted,class:R(t.cx("stepper.action")),headerClass:t.cx("stepper.action"),numberClass:t.cx("stepper.number"),titleClass:t.cx("stepper.title"),clickCallback:function(p){return e.clickCallback(p,e.index)}},null,8,["index","active","highlighted","class","headerClass","numberClass","titleClass","clickCallback"])):(v(),A("button",S({key:1,id:e.id,class:t.cx("stepper.action"),role:"tab",tabindex:e.disabled?-1:void 0,"aria-controls":e.ariaControls,onClick:l[0]||(l[0]=function(C){return e.clickCallback(C,e.index)})},e.getStepPT(e.stepperpanel,"action",e.index)),[n("span",S({class:t.cx("stepper.number")},e.getStepPT(e.stepperpanel,"number",e.index)),z(e.index+1),17),n("span",S({class:t.cx("stepper.title")},e.getStepPT(e.stepperpanel,"title",e.index)),z(e.getStepProp(e.stepperpanel,"header")),17)],16,Te))}ne.render=Oe;var ie={name:"StepperSeparator",hostName:"Stepper",extends:j,props:{template:null,separatorClass:null,stepperpanel:null,index:null,active:null,highlighted:null,getStepPT:null}};function Ie(t,l,e,i,f,r){return e.template?(v(),V(L(e.template),{key:0,class:R(e.separatorClass),index:e.index,active:e.active,highlighted:e.highlighted},null,8,["class","index","active","highlighted"])):(v(),A("span",S({key:1,class:e.separatorClass,"aria-hidden":"true"},e.getStepPT),null,16))}ie.render=Ie;var se={name:"Stepper",extends:_e,inheritAttrs:!1,emits:["update:activeStep","step-change"],data:function(){return{id:this.$attrs.id,d_activeStep:this.activeStep}},watch:{"$attrs.id":function(l){this.id=l||Y()},activeStep:function(l){this.d_activeStep=l}},mounted:function(){this.id=this.id||Y()},methods:{isStep:function(l){return l.type.name==="StepperPanel"},isStepActive:function(l){return this.d_activeStep===l},getStepProp:function(l,e){return l.props?l.props[e]:void 0},getStepKey:function(l,e){return this.getStepProp(l,"header")||e},getStepHeaderActionId:function(l){return"".concat(this.id,"_").concat(l,"_header_action")},getStepContentId:function(l){return"".concat(this.id,"_").concat(l,"_content")},getStepPT:function(l,e,i){var f=this.stepperpanels.length,r={props:l.props,parent:{instance:this,props:this.$props,state:this.$data},context:{index:i,count:f,first:i===0,last:i===f-1,active:this.isStepActive(i),highlighted:i<this.d_activeStep,disabled:this.isItemDisabled(i)}};return S(this.ptm("stepperpanel.".concat(e),{stepperpanel:r}),this.ptm("stepperpanel.".concat(e),r),this.ptmo(this.getStepProp(l,"pt"),e,r))},updateActiveStep:function(l,e){this.d_activeStep=e,this.$emit("update:activeStep",e),this.$emit("step-change",{originalEvent:l,index:e})},onItemClick:function(l,e){if(this.linear){l.preventDefault();return}e!==this.d_activeStep&&this.updateActiveStep(l,e)},isItemDisabled:function(l){return this.linear&&!this.isStepActive(l)},prevCallback:function(l,e){e!==0&&this.updateActiveStep(l,e-1)},nextCallback:function(l,e){e!==this.stepperpanels.length-1&&this.updateActiveStep(l,e+1)}},computed:{stepperpanels:function(){var l=this;return this.$slots.default().reduce(function(e,i){return l.isStep(i)?e.push(i):i.children&&i.children instanceof Array&&i.children.forEach(function(f){l.isStep(f)&&e.push(f)}),e},[])}},components:{StepperContent:re,StepperHeader:ne,StepperSeparator:ie}};function I(t){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},I(t)}function ae(t,l){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);l&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(t,f).enumerable})),e.push.apply(e,i)}return e}function M(t){for(var l=1;l<arguments.length;l++){var e=arguments[l]!=null?arguments[l]:{};l%2?ae(Object(e),!0).forEach(function(i){je(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ae(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function je(t,l,e){return l=qe(l),l in t?Object.defineProperty(t,l,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[l]=e,t}function qe(t){var l=Ue(t,"string");return I(l)=="symbol"?l:String(l)}function Ue(t,l){if(I(t)!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var i=e.call(t,l||"default");if(I(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(t)}var He=["aria-current","data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],Ke=["aria-current","data-p-highlight","data-p-disabled","data-pc-index","data-p-active"];function Ne(t,l,e,i,f,r){var C=J("StepperHeader"),p=J("StepperSeparator"),b=J("StepperContent");return v(),A("div",S({class:t.cx("root"),role:"tablist"},t.ptmi("root")),[t.$slots.start?D(t.$slots,"start",{key:0}):w("",!0),t.orientation==="horizontal"?(v(),A(U,{key:1},[n("ul",S({ref:"nav",class:t.cx("nav")},t.ptm("nav")),[(v(!0),A(U,null,G(r.stepperpanels,function(c,u){return v(),A("li",S({key:r.getStepKey(c,u),class:t.cx("stepper.header",{step:c,index:u}),"aria-current":r.isStepActive(u)?"step":void 0,role:"presentation"},M(M({},r.getStepPT(c,"root",u)),r.getStepPT(c,"header",u)),{"data-pc-name":"stepperpanel","data-p-highlight":r.isStepActive(u),"data-p-disabled":r.isItemDisabled(u),"data-pc-index":u,"data-p-active":r.isStepActive(u)}),[D(t.$slots,"header",{},function(){var m;return[s(C,{id:r.getStepHeaderActionId(u),template:(m=c.children)===null||m===void 0?void 0:m.header,stepperpanel:c,index:u,disabled:r.isItemDisabled(u),active:r.isStepActive(u),highlighted:u<f.d_activeStep,class:R(t.cx("stepper.action")),"aria-controls":r.getStepContentId(u),clickCallback:function(h){return r.onItemClick(h,u)},getStepPT:r.getStepPT,getStepProp:r.getStepProp,unstyled:t.unstyled},null,8,["id","template","stepperpanel","index","disabled","active","highlighted","class","aria-controls","clickCallback","getStepPT","getStepProp","unstyled"])]}),u!==r.stepperpanels.length-1?D(t.$slots,"separator",{key:0},function(){var m;return[s(p,{template:(m=c.children)===null||m===void 0?void 0:m.separator,separatorClass:t.cx("stepper.separator"),stepperpanel:c,index:u,active:r.isStepActive(u),highlighted:u<f.d_activeStep,getStepPT:r.getStepPT(c,"separator",u),unstyled:t.unstyled},null,8,["template","separatorClass","stepperpanel","index","active","highlighted","getStepPT","unstyled"])]}):w("",!0)],16,He)}),128))],16),n("div",S({class:t.cx("panelContainer")},t.ptm("panelContainer")),[(v(!0),A(U,null,G(r.stepperpanels,function(c,u){var m;return Z((v(),V(b,{key:r.getStepKey(c,u),id:r.getStepContentId(u),template:c==null||(m=c.children)===null||m===void 0?void 0:m.content,stepperpanel:c,index:u,active:r.isStepActive(u),highlighted:u<f.d_activeStep,clickCallback:function(h){return r.onItemClick(h,u)},prevCallback:function(h){return r.prevCallback(h,u)},nextCallback:function(h){return r.nextCallback(h,u)},getStepPT:r.getStepPT,"aria-labelledby":r.getStepHeaderActionId(u),unstyled:t.unstyled},null,8,["id","template","stepperpanel","index","active","highlighted","clickCallback","prevCallback","nextCallback","getStepPT","aria-labelledby","unstyled"])),[[$,r.isStepActive(u)]])}),128))],16)],64)):t.orientation==="vertical"?(v(!0),A(U,{key:2},G(r.stepperpanels,function(c,u){return v(),A("div",S({ref_for:!0,ref:"nav",key:r.getStepKey(c,u),class:t.cx("panel",{step:c,index:u}),"aria-current":r.isStepActive(u)?"step":void 0},M(M({},r.getStepPT(c,"root",u)),r.getStepPT(c,"panel",u)),{"data-pc-name":"stepperpanel","data-p-highlight":r.isStepActive(u),"data-p-disabled":r.isItemDisabled(u),"data-pc-index":u,"data-p-active":r.isStepActive(u)}),[n("div",S({class:t.cx("stepper.header",{step:c,index:u})},r.getStepPT(c,"header",u)),[D(t.$slots,"header",{},function(){var m;return[s(C,{id:r.getStepHeaderActionId(u),template:(m=c.children)===null||m===void 0?void 0:m.header,stepperpanel:c,index:u,disabled:r.isItemDisabled(u),active:r.isStepActive(u),highlighted:u<f.d_activeStep,class:R(t.cx("stepper.action")),"aria-controls":r.getStepContentId(u),clickCallback:function(h){return r.onItemClick(h,u)},getStepPT:r.getStepPT,getStepProp:r.getStepProp},null,8,["id","template","stepperpanel","index","disabled","active","highlighted","class","aria-controls","clickCallback","getStepPT","getStepProp"])]})],16),s(ve,S({name:"p-toggleable-content"},r.getStepPT(c,"transition",u)),{default:g(function(){return[Z(n("div",S({class:t.cx("stepper.toggleableContent")},r.getStepPT(c,"toggleableContent",u)),[u!==r.stepperpanels.length-1?D(t.$slots,"separator",{key:0},function(){var m;return[s(p,{template:(m=c.children)===null||m===void 0?void 0:m.separator,separatorClass:t.cx("stepper.separator"),stepperpanel:c,index:u,active:r.isStepActive(u),highlighted:u<f.d_activeStep,getStepPT:r.getStepPT(c,"separator",u)},null,8,["template","separatorClass","stepperpanel","index","active","highlighted","getStepPT"])]}):w("",!0),D(t.$slots,"content",{},function(){var m;return[s(b,{id:r.getStepContentId(u),template:c==null||(m=c.children)===null||m===void 0?void 0:m.content,stepperpanel:c,index:u,active:r.isStepActive(u),highlighted:u<f.d_activeStep,clickCallback:function(h){return r.onItemClick(h,u)},prevCallback:function(h){return r.prevCallback(h,u)},nextCallback:function(h){return r.nextCallback(h,u)},getStepPT:r.getStepPT,"aria-labelledby":r.getStepHeaderActionId(u)},null,8,["id","template","stepperpanel","index","active","highlighted","clickCallback","prevCallback","nextCallback","getStepPT","aria-labelledby"])]})],16),[[$,r.isStepActive(u)]])]}),_:2},1040)],16,Ke)}),128)):w("",!0),t.$slots.end?D(t.$slots,"end",{key:3}):w("",!0)],16)}se.render=Ne;var Me={},Le={name:"BaseStepperPanel",extends:j,props:{header:null},style:Me,provide:function(){return{$parentInstance:this}}},T={name:"StepperPanel",extends:Le};function Re(t,l,e,i,f,r){return D(t.$slots,"default")}T.render=Re;function ze(){return Q({url:"/install/check_env"})}function Qe(t){return Q({url:"/install/test_db",method:"POST",data:t})}function Je(t){return Q({url:"/install/test_redis",method:"POST",data:t})}function Ge(t){return Q({url:"/install/install",method:"POST",data:t})}function ue(t,l){return t in l}const We={class:"main-container"},Xe={class:"main"},Ye={class:"card flex justify-content-center"},Ze={class:"flex justify-content-center align-items-center"},$e={class:"flex pt-4 justify-content-end"},et={class:"flex flex-column border-2 border-dashed surface-border border-round surface-ground flex-auto px-3 py-3"},tt={class:"flex-grow-1 overflow-y-auto"},lt={class:"flex justify-content-end"},at={class:"flex pt-4 justify-content-between"},ut={class:"flex flex-column border-2 border-dashed surface-border border-round surface-ground flex-auto font-medium px-3 py-3"},rt={class:"p-fluid"},nt={class:"formgrid grid"},it={class:"field col"},st={class:"field col"},ot={class:"field"},dt={class:"field"},pt={class:"field"},ct={class:"flex justify-content-start align-items-center"},ft={class:"p-fluid"},mt={class:"formgrid grid"},vt={class:"field col"},bt={class:"field col"},gt={class:"field"},ht={class:"flex justify-content-start align-items-center"},yt={class:"p-fluid"},Ct={class:"field"},Ft={class:"grid"},St={class:"col-12 md:col-4"},Et={class:"field-radiobutton mb-0"},kt={class:"col-12 md:col-4"},Bt={class:"field-radiobutton mb-0"},At={class:"col-12 md:col-4"},_t={class:"field-radiobutton mb-0"},Pt={key:0,class:"field"},Dt={class:"field"},wt={class:"field"},Vt={class:"field"},xt={class:"field"},Tt={class:"field"},Ot={class:"flex pt-4 justify-content-between"},It={key:0,class:"flex flex-column mt-2"},jt={class:"border-2 border-dashed surface-border border-round surface-ground font-medium px-3 py-3"},qt={class:"flex justify-content-center align-items-center"},Ut={class:"flex pt-4 justify-content-start"},Ht=be({__name:"Install",setup(t){const l=H(!1),e=H(!1),i=he(),f=H(!1),r=K({mysql:"wait",redis:"wait"}),C=H([{name:"PHP",require:">=8.0",has:!0},{name:"PDO_Mysql",require:"\u65E0\u9650\u5236",has:!1},{name:"PHP-Redis",require:"\u65E0\u9650\u5236",has:!1},{name:"PHP-Curl",require:"\u65E0\u9650\u5236",has:!1}]),p=K({hostname:"localhost",port:"3306",username:"",password:"",database:""}),b=K({hostname:"localhost",port:"6379",password:""}),c=ge({get:()=>C.value.filter(y=>!y.has).length===0,set:y=>{}}),u=K({admin_password:"",fixed_key:"",key_last_time:"300",normal_cookie:"",parse_ua:"netdisk;",real_url_last_time:"1800",requires_key:"dynamic"}),m=(y,a)=>{const E=de();i.default("\u5F00\u59CB\u5B89\u88C5\u2026\u2026"),l.value=!0,Ge(E).then(()=>{e.value=!0,i.success("\u5B89\u88C5\u6210\u529F\uFF01")}).catch(()=>{y(a),i.warn("\u5B89\u88C5\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u73AF\u5883\u914D\u7F6E\u662F\u5426\u6B63\u786E\uFF01")}).finally(()=>l.value=!1)},_=async()=>{try{f.value=!0,i.default("\u6B63\u5728\u68C0\u67E5\u73AF\u5883\u2026\u2026");const{data:y}=await ze(),{data:a}=y;C.value[1].has=a.ext.pdo_mysql,C.value[2].has=a.ext.redis,C.value[3].has=a.ext.curl,i.success("\u73AF\u5883\u68C0\u67E5\u6210\u529F\uFF01")}catch{i.warn("\u73AF\u5883\u68C0\u67E5\u5931\u8D25\uFF01")}finally{f.value=!1}},h=y=>{y.index===1&&_()},oe=(y,a,E)=>{if(F(p.hostname)||F(p.port)||F(p.database)||F(p.username)||p.port==="0"){i.warn("\u8BF7\u6B63\u786E\u586B\u5199 MySQL \u6570\u636E\u5E93\u4FE1\u606F\uFF01");return}if(F(b.hostname)||F(b.port)||b.port==="0"){i.warn("\u8BF7\u6B63\u786E\u586B\u5199 Redis \u6570\u636E\u5E93\u4FE1\u606F\uFF01");return}if(r.mysql!=="open"||r.redis!=="open"){i.warn("\u8BF7\u5148\u786E\u4FDD MySQL \u548C Redis \u80FD\u8FDE\u63A5\uFF0C\u8BF7\u70B9\u51FB\u6D4B\u8BD5\u8FDE\u63A5\u6309\u94AE\uFF01");return}if(Object.entries(u).filter(([d])=>d!=="fixed_key").filter(([d,fe])=>F(fe)).length!==0){i.warn("\u8BF7\u6B63\u786E\u586B\u5199 F4Pan \u7CFB\u7EDF\u4FE1\u606F\uFF01");return}if(u.requires_key==="fixed"&&F(u.fixed_key)){i.warn("\u5BC6\u94A5\u6A21\u5F0F\u4E3A \u56FA\u5B9A \u65F6\uFF0C\u56FA\u5B9A\u5BC6\u94A5\u4E0D\u80FD\u4E3A\u7A7A\uFF01");return}y(E),setTimeout(()=>m(a,E),500)},de=()=>{const y={...u};for(let a in p)ue(a,p)&&(y[`db_${a}`]=p[a]);for(let a in b)ue(a,b)&&(y[`redis_${a}`]=b[a]||"");return y},pe=async()=>{if(F(p.hostname)||F(p.port)||F(p.database)||F(p.username)||p.port==="0"){i.warn("\u8BF7\u6B63\u786E\u586B\u5199 MySQL \u6570\u636E\u5E93\u4FE1\u606F\uFF01");return}try{f.value=!0,await Qe(p),i.success("\u6D4B\u8BD5\u8FDE\u63A5\u6210\u529F\uFF01"),r.mysql="open"}catch{i.error("\u6D4B\u8BD5\u8FDE\u63A5\u5931\u8D25\uFF01"),r.mysql="close"}finally{f.value=!1}},ce=async()=>{if(F(b.hostname)||F(b.port)||b.port==="0"){i.warn("\u8BF7\u6B63\u786E\u586B\u5199 Redis \u6570\u636E\u5E93\u4FE1\u606F\uFF01");return}try{f.value=!0,await Je(b),i.success("\u6D4B\u8BD5\u8FDE\u63A5\u6210\u529F\uFF01"),r.redis="open"}catch{i.error("\u6D4B\u8BD5\u8FDE\u63A5\u5931\u8D25\uFF01"),r.redis="close"}finally{f.value=!1}};return(y,a)=>(v(),A("div",We,[n("div",Xe,[s(o(Ce),{header:"\u5B89\u88C5\u7A0B\u5E8F - F4Pan"},{default:g(()=>[n("div",Ye,[s(o(se),{linear:"",onStepChange:h,orientation:"vertical"},{start:g(()=>[n("div",Ze,[s(o(Fe),{src:"https://www.f4team.cn/logo/logo-hdpi.png",width:"120"})])]),default:g(()=>[s(o(T),{header:"\u4ECB\u7ECD"},{content:g(({nextCallback:E})=>[a[17]||(a[17]=n("div",{class:"flex flex-column border-2 border-dashed surface-border border-round surface-ground px-3 py-3 flex-auto font-medium"},[n("p",{class:"par"},[k("\u6B22\u8FCE\u4F7F\u7528 "),n("code",null,"F4Pan"),k(" \u5B89\u88C5\u7A0B\u5E8F\uFF0C\u4F60\u5728\u5B89\u88C5\u672C\u7A0B\u5E8F\u524D\uFF0C\u5E94\u5148\u9605\u8BFB\u6211\u4EEC\u7684"),n("a",{href:"https://github.com/f4team-cn/f4pan",target:"_blank"},"\u5F00\u6E90\u534F\u8BAE\u53CA\u514D\u8D23\u58F0\u660E"),k("\uFF0C\u4EE5\u9632\u5236\u9020\u4E0D\u5FC5\u8981\u7684\u9EBB\u70E6\u3002 \u5F53\u4F60\u70B9\u51FB "),n("code",null,"\u4E0B\u4E00\u6B65"),k(" \u6309\u94AE\u65F6\uFF0C\u5219\u4EE3\u8868\u4F60\u5DF2\u7ECF\u9605\u8BFB\u5E76\u540C\u610F\u4E86\u6211\u4EEC\u7684\u6761\u6B3E\uFF01 ")])],-1)),n("div",$e,[s(o(P),{label:"\u4E0B\u4E00\u6B65",icon:"pi pi-arrow-right",iconPos:"right",onClick:E,disabled:f.value},null,8,["onClick","disabled"])])]),_:1}),s(o(T),{header:"\u73AF\u5883\u68C0\u67E5"},{content:g(({prevCallback:E,nextCallback:q})=>[n("div",et,[s(o(N),{closable:!1},{default:g(()=>a[18]||(a[18]=[k("\u4E3A\u4E86\u786E\u4FDD\u5B89\u88C5\u80FD\u6B63\u5E38\u8FDB\u884C\uFF0C\u672C\u7A0B\u5E8F\u9700\u8981\u4EE5\u4E0B\u73AF\u5883\u3002")])),_:1}),s(o(x)),n("div",tt,[s(o(Ee),{value:C.value,class:"h-full"},{default:g(()=>[s(o(W),{field:"name",header:"\u7A0B\u5E8F"}),s(o(W),{field:"require",header:"\u8981\u6C42"}),s(o(W),{header:"\u662F\u5426\u6EE1\u8DB3"},{body:g(({data:d})=>[d.has?(v(),V(o(ee),{key:0,severity:"success",value:"\u6EE1\u8DB3"})):(v(),V(o(ee),{key:1,severity:"warning",value:"\u4E0D\u6EE1\u8DB3"}))]),_:1})]),_:1},8,["value"])]),s(o(x)),n("div",lt,[s(o(P),{severity:"info",label:"\u91CD\u65B0\u68C0\u67E5",loading:f.value,onClick:_},null,8,["loading"])])]),n("div",at,[s(o(P),{label:"\u4E0A\u4E00\u6B65",severity:"secondary",icon:"pi pi-arrow-left",onClick:E},null,8,["onClick"]),s(o(P),{label:"\u4E0B\u4E00\u6B65",icon:"pi pi-arrow-right",iconPos:"right",loading:f.value,disabled:!c.value,onClick:q},null,8,["loading","disabled","onClick"])])]),_:1}),s(o(T),{header:"\u73AF\u5883\u914D\u7F6E"},{content:g(({prevCallback:E,nextCallback:q})=>[n("div",ut,[s(o(x),{align:"left",type:"solid"},{default:g(()=>a[19]||(a[19]=[n("strong",null,"MySQL",-1)])),_:1}),n("div",rt,[n("div",nt,[n("div",it,[a[20]||(a[20]=n("label",{for:"host"},"\u4E3B\u673A",-1)),s(o(B),{type:"text",modelValue:p.hostname,"onUpdate:modelValue":a[0]||(a[0]=d=>p.hostname=d)},null,8,["modelValue"])]),n("div",st,[a[21]||(a[21]=n("label",{for:"port"},"\u7AEF\u53E3",-1)),s(o(B),{type:"number",modelValue:p.port,"onUpdate:modelValue":a[1]||(a[1]=d=>p.port=d)},null,8,["modelValue"])])]),n("div",ot,[a[22]||(a[22]=n("label",{for:"database"},"\u6570\u636E\u5E93\u540D",-1)),s(o(B),{type:"text",modelValue:p.database,"onUpdate:modelValue":a[2]||(a[2]=d=>p.database=d)},null,8,["modelValue"])]),n("div",dt,[a[23]||(a[23]=n("label",{for:"username"},"\u7528\u6237\u540D",-1)),s(o(B),{type:"text",modelValue:p.username,"onUpdate:modelValue":a[3]||(a[3]=d=>p.username=d)},null,8,["modelValue"])]),n("div",pt,[a[24]||(a[24]=n("label",{for:"password"},"\u5BC6\u7801",-1)),s(o(B),{type:"password",modelValue:p.password,"onUpdate:modelValue":a[4]||(a[4]=d=>p.password=d)},null,8,["modelValue"])])]),n("div",ct,[s(o(P),{label:"\u6D4B\u8BD5\u8FDE\u63A5",style:{"max-height":"34px"},onClick:pe}),s(o(N),{closable:!1,class:"ml-2",severity:r.mysql==="open"?"success":r.mysql==="close"?"error":"contrast"},{default:g(()=>[k(" \u8FDE\u63A5\u72B6\u6001\uFF1A"+z(r.mysql==="open"?"\u6210\u529F":r.mysql==="close"?"\u5931\u8D25":"\u672A\u77E5"),1)]),_:1},8,["severity"])]),s(o(x),{align:"left",type:"solid"},{default:g(()=>a[25]||(a[25]=[n("strong",null,"Redis",-1)])),_:1}),n("div",ft,[n("div",mt,[n("div",vt,[a[26]||(a[26]=n("label",{for:"host"},"\u4E3B\u673A",-1)),s(o(B),{type:"text",modelValue:b.hostname,"onUpdate:modelValue":a[5]||(a[5]=d=>b.hostname=d)},null,8,["modelValue"])]),n("div",bt,[a[27]||(a[27]=n("label",{for:"port"},"\u7AEF\u53E3",-1)),s(o(B),{type:"number",modelValue:b.port,"onUpdate:modelValue":a[6]||(a[6]=d=>b.port=d)},null,8,["modelValue"])])]),n("div",gt,[a[28]||(a[28]=n("label",{for:"password"},"\u5BC6\u7801",-1)),s(o(B),{type:"password",modelValue:b.password,"onUpdate:modelValue":a[7]||(a[7]=d=>b.password=d)},null,8,["modelValue"])])]),n("div",ht,[s(o(P),{label:"\u6D4B\u8BD5\u8FDE\u63A5",style:{"max-height":"34px"},onClick:ce}),s(o(N),{closable:!1,class:"ml-2",severity:r.redis==="open"?"success":r.redis==="close"?"error":"contrast"},{default:g(()=>[k(" \u8FDE\u63A5\u72B6\u6001\uFF1A"+z(r.redis==="open"?"\u6210\u529F":r.redis==="close"?"\u5931\u8D25":"\u672A\u77E5"),1)]),_:1},8,["severity"])]),s(o(x),{align:"left",type:"solid"},{default:g(()=>a[29]||(a[29]=[n("strong",null,"F4Pan",-1)])),_:1}),n("div",yt,[n("div",Ct,[a[33]||(a[33]=n("label",{for:"require"},"\u89E3\u6790\u5BC6\u94A5",-1)),n("div",Ft,[n("div",St,[n("div",Et,[s(o(X),{value:"dynamic",modelValue:u.requires_key,"onUpdate:modelValue":a[8]||(a[8]=d=>u.requires_key=d)},null,8,["modelValue"]),a[30]||(a[30]=n("label",{for:"dynamic"},"\u52A8\u6001\u5BC6\u94A5",-1))])]),n("div",kt,[n("div",Bt,[s(o(X),{value:"fixed",modelValue:u.requires_key,"onUpdate:modelValue":a[9]||(a[9]=d=>u.requires_key=d)},null,8,["modelValue"]),a[31]||(a[31]=n("label",{for:"fixed"},"\u56FA\u5B9A\u5BC6\u94A5",-1))])]),n("div",At,[n("div",_t,[s(o(X),{value:"none",modelValue:u.requires_key,"onUpdate:modelValue":a[10]||(a[10]=d=>u.requires_key=d)},null,8,["modelValue"]),a[32]||(a[32]=n("label",{for:"none"},"\u65E0",-1))])])])]),u.requires_key==="fixed"?(v(),A("div",Pt,[a[34]||(a[34]=n("label",{for:"fixed-key"},"\u56FA\u5B9A\u5BC6\u94A5",-1)),s(o(B),{type:"text",modelValue:u.fixed_key,"onUpdate:modelValue":a[11]||(a[11]=d=>u.fixed_key=d)},null,8,["modelValue"])])):w("",!0),n("div",Dt,[a[35]||(a[35]=n("label",{for:"password"},"\u7BA1\u7406\u5458\u5BC6\u7801",-1)),s(o(B),{type:"password",modelValue:u.admin_password,"onUpdate:modelValue":a[12]||(a[12]=d=>u.admin_password=d)},null,8,["modelValue"])]),n("div",wt,[a[36]||(a[36]=n("label",{for:"dynamic-key-timeout"},[k("\u52A8\u6001\u5BC6\u94A5\u6709\u6548\u65F6\u957F"),n("code",null,"(\u79D2)")],-1)),s(o(B),{type:"number",modelValue:u.key_last_time,"onUpdate:modelValue":a[13]||(a[13]=d=>u.key_last_time=d)},null,8,["modelValue"])]),n("div",Vt,[a[37]||(a[37]=n("label",{for:"real-url-timeout"},[k("\u771F\u5B9E\u94FE\u63A5\u5B58\u50A8\u65F6\u95F4"),n("code",null,"(\u79D2)")],-1)),s(o(B),{type:"number",modelValue:u.real_url_last_time,"onUpdate:modelValue":a[14]||(a[14]=d=>u.real_url_last_time=d)},null,8,["modelValue"])]),n("div",xt,[a[38]||(a[38]=n("label",{for:"user-agent"},[k("\u89E3\u6790 UA"),n("code",null,"(UA \u4E2D\u7684\u4EA7\u54C1\u6807\u8BC6\u5FC5\u987B\u4E3A\uFF1Anetdisk)")],-1)),s(o(B),{type:"text",modelValue:u.parse_ua,"onUpdate:modelValue":a[15]||(a[15]=d=>u.parse_ua=d)},null,8,["modelValue"])]),n("div",Tt,[a[39]||(a[39]=n("label",{for:"cookie"},"Cookie",-1)),s(o(ke),{placeholder:"",autoResize:!0,rows:"3",cols:"30",modelValue:u.normal_cookie,"onUpdate:modelValue":a[16]||(a[16]=d=>u.normal_cookie=d)},null,8,["modelValue"])])])]),n("div",Ot,[s(o(P),{label:"\u4E0A\u4E00\u6B65",severity:"secondary",icon:"pi pi-arrow-left",onClick:E},null,8,["onClick"]),s(o(P),{label:"\u4E0B\u4E00\u6B65",icon:"pi pi-arrow-right",iconPos:"right",loading:f.value,onClick:d=>oe(q,E,d)},null,8,["loading","onClick"])])]),_:1}),s(o(T),{header:"\u5F00\u59CB\u5B89\u88C5"},{content:g(({prevCallback:E})=>[s(o(Se),{value:100,mode:l.value?"indeterminate":"determinate",style:{height:"15px"}},null,8,["mode"]),e.value?(v(),A("div",It,[n("div",jt,[n("div",qt,[s(o(N),{closable:!1},{messageicon:g(()=>a[40]||(a[40]=[n("i",{class:"pi pi-check mx-2"},null,-1)])),default:g(()=>[a[41]||(a[41]=k("\u5B89\u88C5\u6210\u529F "))]),_:1})]),s(o(x)),a[42]||(a[42]=n("p",{class:"par"},[k("\u7CFB\u7EDF\u5B89\u88C5\u6210\u529F\uFF0C\u4F60\u73B0\u5728\u53EF\u4EE5"),n("a",{href:"/",class:"mx-2"},[n("strong",null,"\u70B9\u51FB\u6B64\u5904")]),k("\u8DF3\u8F6C\u524D\u53F0\u3002\u5728\u4F7F\u7528\u672C\u7A0B\u5E8F\u7684\u8FC7\u7A0B\u7684\uFF0C\u4ECD\u8981\u9075\u4ECE\u5F00\u6E90\u534F\u8BAE\u4EE5\u53CA\u56FD\u5BB6\u6CD5\u5F8B\u6CD5\u89C4\uFF01")],-1))])])):w("",!0),n("div",Ut,[s(o(P),{label:"\u4E0A\u4E00\u6B65",severity:"secondary",icon:"pi pi-arrow-left",disabled:l.value||e.value,onClick:E},null,8,["disabled","onClick"])])]),_:1})]),_:1})])]),_:1})])]))}});const Zt=ye(Ht,[["__scopeId","data-v-065c5765"]]);export{Zt as default};
